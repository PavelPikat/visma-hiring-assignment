(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{274:function(e,r,t){"use strict";t.r(r);var o=t(13),n=Object(o.a)({},(function(){var e=this,r=e._self._c;return r("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[r("h1",{attrs:{id:"introduction"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#introduction"}},[e._v("#")]),e._v(" Introduction")]),e._v(" "),r("blockquote",[r("p",[e._v("Pavel's solution for Visma's recruitment assignment for Site Reliability Engineer")])]),e._v(" "),r("h3",{attrs:{id:"implemented"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#implemented"}},[e._v("#")]),e._v(" Implemented")]),e._v(" "),r("ul",[r("li",[e._v(".NET Core microservice "),r("code",[e._v("assignment-service")]),e._v(" that calls into "),r("code",[e._v("dummy-pdf-or-png")]),e._v(" service and return PDF or PNG back to the caller")]),e._v(" "),r("li",[e._v("Handling transient HTTP errors with Polly.NET")]),e._v(" "),r("li",[e._v("Validating PDF file for corruption and retrying")]),e._v(" "),r("li",[e._v("Prometheus metrics")]),e._v(" "),r("li",[e._v("Health checks & probes")]),e._v(" "),r("li",[e._v("Tests with xUnit")]),e._v(" "),r("li",[e._v("docker-compose for local dev/test")]),e._v(" "),r("li",[e._v("Kubernetes all-in-one manifest for local dev/test on Docker Desktop")]),e._v(" "),r("li",[e._v("AKS all-in-one manifest for deploying to Azure")]),e._v(" "),r("li",[e._v("Azure DevOps CI/CD pipeline")]),e._v(" "),r("li",[e._v("Terraform configuration for AKS, ACR infrastructure on Azure")]),e._v(" "),r("li",[e._v("Documentation with VuePress")])]),e._v(" "),r("h1",{attrs:{id:"running-locally"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#running-locally"}},[e._v("#")]),e._v(" Running locally")]),e._v(" "),r("h3",{attrs:{id:"docker-compose"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#docker-compose"}},[e._v("#")]),e._v(" docker-compose")]),e._v(" "),r("p",[e._v("From "),r("code",[e._v("/sre/.docker")]),e._v(", run "),r("code",[e._v("docker-compose up")])]),e._v(" "),r("p",[e._v("docker-compose will build and run everything for you")]),e._v(" "),r("p",[e._v("Browse "),r("a",{attrs:{href:"http://localhost:3020/1",target:"_blank",rel:"noopener noreferrer"}},[e._v("http://localhost:3020/1"),r("OutboundLink")],1)]),e._v(" "),r("h3",{attrs:{id:"docker-desktop-with-kubernetes"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#docker-desktop-with-kubernetes"}},[e._v("#")]),e._v(" Docker Desktop with Kubernetes")]),e._v(" "),r("ol",[r("li",[e._v("Build both "),r("code",[e._v("dummy-pdf-or-png")]),e._v(" and "),r("code",[e._v("assignment-service")]),e._v(" containers locally so they are available")])]),e._v(" "),r("p",[e._v("From "),r("code",[e._v("/sre/dummy-pdf-or-png")]),e._v(", run "),r("code",[e._v("docker build -t dummy-pdf-or-png .")])]),e._v(" "),r("p",[e._v("From "),r("code",[e._v("/sre/assignment-service")]),e._v(", run "),r("code",[e._v("docker build -t assignment-service .")])]),e._v(" "),r("ol",{attrs:{start:"2"}},[r("li",[r("p",[e._v("Deploy to local Kubernetes\nFrom "),r("code",[e._v("/sre")]),e._v(", run "),r("code",[e._v("kubectl apply -f ./.k8/docker-desktop-all-in-one.yaml")])])]),e._v(" "),r("li",[r("p",[e._v("Browse "),r("a",{attrs:{href:"http://localhost:3020/1",target:"_blank",rel:"noopener noreferrer"}},[e._v("http://localhost:3020/1"),r("OutboundLink")],1)])])])])}),[],!1,null,null,null);r.default=n.exports}}]);